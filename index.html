<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday My Love ‚ù§Ô∏è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            overflow-x: hidden;
            background: linear-gradient(135deg, #ff6b9d 0%, #ffc3e1 50%, #ff6b9d 100%);
            min-height: 100vh;
        }

        /* Floating hearts and stars background */
        .floating-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .float-item {
            position: absolute;
            animation: float-up 15s infinite ease-in-out;
            opacity: 0;
        }

        @keyframes float-up {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Screen container */
        .screen {
            position: relative;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 1;
        }

        .screen.active {
            opacity: 1;
            transform: scale(1);
        }

        .screen.exit {
            opacity: 0;
            transform: scale(0.8);
        }

        /* Welcome messages */
        .message-container {
            text-align: center;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .message {
            font-size: 3em;
            margin: 20px 0;
            animation: slideIn 1s ease-out forwards;
            opacity: 0;
            transform: translateY(50px);
        }

        @keyframes slideIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message:nth-child(1) { animation-delay: 0.5s; }
        .message:nth-child(2) { animation-delay: 1.5s; }
        .message:nth-child(3) { animation-delay: 2.5s; }

        /* Question screen */
        .question-box {
            background: rgba(255, 255, 255, 0.95);
            padding: 60px 40px;
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            text-align: center;
            transform-style: preserve-3d;
        }

        .question-box h2 {
            color: #ff1744;
            font-size: 2.5em;
            margin-bottom: 40px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .btn-container {
            display: flex;
            gap: 30px;
            justify-content: center;
        }

        .btn {
            padding: 20px 50px;
            font-size: 1.5em;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            font-weight: bold;
            transform: translateZ(20px);
        }

        .btn-yes {
            background: linear-gradient(135deg, #ff1744, #ff6b9d);
            color: white;
        }

        .btn-no {
            background: linear-gradient(135deg, #ffc3e1, #ff8fab);
            color: #ff1744;
        }

        .btn:hover {
            transform: translateZ(30px) scale(1.1);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .playful-message {
            color: #ff1744;
            font-size: 2em;
            margin-top: 30px;
            animation: bounce 0.5s ease;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        /* Tic Tac Toe Game */
        .game-container {
            text-align: center;
        }

        .game-title {
            color: white;
            font-size: 2.5em;
            margin-bottom: 40px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .board {
            display: grid;
            grid-template-columns: repeat(3, 150px);
            grid-template-rows: repeat(3, 150px);
            gap: 15px;
            margin: 0 auto;
            perspective: 1000px;
        }

        .cell {
            background: linear-gradient(135deg, #fff 0%, #ffe0ee 100%);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4em;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            transform-style: preserve-3d;
            position: relative;
        }

        .cell:hover {
            transform: translateZ(10px);
        }

        .cell.disabled {
            cursor: not-allowed;
        }

        .cell-content {
            transition: all 0.3s ease;
            transform-style: preserve-3d;
        }

        .heart-icon {
            color: #ff1744;
            filter: drop-shadow(3px 3px 6px rgba(255, 23, 68, 0.4));
        }

        .cross-icon {
            color: #666;
            filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.3));
        }

        .cell.fly-animation .heart-icon {
            animation: flyUp 0.6s ease-out;
        }

        @keyframes flyUp {
            0% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-80px) scale(1.3) rotateZ(15deg); }
            100% { transform: translateY(0) scale(1); }
        }

        .winning-line {
            position: absolute;
            pointer-events: none;
        }

        .winning-heart {
            position: absolute;
            font-size: 4em;
            color: #ff1744;
            animation: expandPulse 1s ease-out forwards;
            filter: drop-shadow(0 0 20px rgba(255, 23, 68, 0.8));
        }

        @keyframes expandPulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(2); opacity: 0.8; }
            100% { transform: scale(3); opacity: 0; }
        }

        .win-message {
            color: white;
            font-size: 3em;
            margin-top: 40px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.4);
            animation: fadeInScale 1s ease-out;
        }

        @keyframes fadeInScale {
            0% { opacity: 0; transform: scale(0); }
            100% { opacity: 1; transform: scale(1); }
        }

        /* Envelope and Letter */
        .envelope-container {
            perspective: 1500px;
            cursor: pointer;
        }

        .envelope {
            width: 400px;
            height: 280px;
            position: relative;
            transform-style: preserve-3d;
            transition: all 0.8s ease;
        }

        .envelope-body {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff6b9d, #ff8fab);
            border-radius: 10px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
        }

        .envelope-flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 50%;
            background: linear-gradient(135deg, #ff1744, #ff6b9d);
            transform-origin: top;
            transition: all 0.8s ease;
            clip-path: polygon(0 0, 100% 0, 50% 100%);
            z-index: 2;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .envelope.open .envelope-flap {
            transform: rotateX(-180deg);
        }

        .letter {
            position: absolute;
            width: 90%;
            height: 450px;
            background: 
                repeating-linear-gradient(
                    transparent,
                    transparent 31px,
                    #e8b4d0 31px,
                    #e8b4d0 32px
                ),
                linear-gradient(to bottom, #fff9e6 0%, #fff5e1 100%);
            left: 5%;
            top: 50%;
            transform: translateY(-50%);
            border-radius: 5px;
            padding: 40px 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            transition: all 0.8s ease;
            z-index: 1;
            overflow-y: auto;
            border-left: 3px solid #ff6b9d;
        }

        .envelope:not(.open) .letter {
            transform: translateY(100%);
            opacity: 0;
        }

        .envelope.open .letter {
            transform: translateY(-120%);
            opacity: 1;
        }

        .letter-content {
            color: #333;
            font-size: 1.2em;
            line-height: 32px;
            font-family: 'Brush Script MT', cursive;
            text-align: left;
        }

        .letter-content p {
            margin-bottom: 20px;
        }

        .signature {
            text-align: right;
            margin-top: 40px;
            font-style: italic;
            color: #ff1744;
            font-size: 1.3em;
        }

        .envelope-hint {
            color: white;
            text-align: center;
            margin-top: 30px;
            font-size: 1.3em;
            animation: blink 2s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .message { font-size: 2em; }
            .board {
                grid-template-columns: repeat(3, 100px);
                grid-template-rows: repeat(3, 100px);
                gap: 10px;
            }
            .cell { font-size: 3em; }
            .envelope { width: 300px; height: 200px; }
            .letter { height: 350px; }
        }
    </style>
</head>
<body>
    <!-- Floating background -->
    <div class="floating-bg" id="floatingBg"></div>

    <!-- Screen 1: Welcome Messages -->
    <div class="screen active" id="screen1">
        <div class="message-container">
            <div class="message">Happy Birthday My Love! üíï</div>
            <div class="message">Today is your special day! üéâ</div>
            <div class="message">I made something special for you... ‚ú®</div>
        </div>
    </div>

    <!-- Screen 2: Question -->
    <div class="screen" id="screen2">
        <div class="question-box">
            <h2>Do you wanna see it? üíù</h2>
            <div class="btn-container">
                <button class="btn btn-yes" onclick="handleYes()">Yes! üòä</button>
                <button class="btn btn-no" onclick="handleNo()">No üòÖ</button>
            </div>
            <div class="playful-message" id="playfulMsg" style="display: none;">
                Haha! I'm showing it anyway! üíï
            </div>
        </div>
    </div>

    <!-- Screen 3: Tic Tac Toe -->
    <div class="screen" id="screen3">
        <div class="game-container">
            <h2 class="game-title">Win to prove that you love me! üíñ</h2>
            <div class="board" id="board"></div>
            <div class="win-message" id="winMessage" style="display: none;">
                You have my heart forever! ‚ù§Ô∏è
            </div>
        </div>
    </div>

    <!-- Screen 4: Love Letter -->
    <div class="screen" id="screen4">
        <div>
            <div class="envelope-container" onclick="toggleEnvelope()">
                <div class="envelope" id="envelope">
                    <div class="envelope-flap"></div>
                    <div class="envelope-body"></div>
                    <div class="letter">
                        <div class="letter-content">
                            <p>My Dearest Love,</p>
                            <p>Every moment with you feels like a beautiful dream. You light up my world in ways I never knew possible.</p>
                            <p>Your smile is my favorite thing in this universe, and your laugh is the melody my heart dances to.</p>
                            <p>On this special day, I want you to know that you mean everything to me. You're not just my girlfriend, you're my best friend, my partner, and my forever.</p>
                            <p>Thank you for being the amazing person you are. Happy Birthday, my love!</p>
                            <p class="signature">Forever yours,<br>Your Love ‚ù§Ô∏è</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="envelope-hint" id="envelopeHint">Tap the envelope to open! üíå</div>
        </div>
    </div>

    <script>
        // Create floating hearts and stars
        function createFloatingItems() {
            const bg = document.getElementById('floatingBg');
            const items = ['‚ù§Ô∏è', 'üíï', 'üíñ', '‚≠ê', '‚ú®', 'üíù', 'üåü'];
            
            setInterval(() => {
                const item = document.createElement('div');
                item.className = 'float-item';
                item.textContent = items[Math.floor(Math.random() * items.length)];
                item.style.left = Math.random() * 100 + '%';
                item.style.fontSize = (Math.random() * 30 + 20) + 'px';
                item.style.animationDuration = (Math.random() * 10 + 10) + 's';
                item.style.animationDelay = '0s';
                bg.appendChild(item);
                
                setTimeout(() => item.remove(), 15000);
            }, 500);
        }

        createFloatingItems();

        // Screen transitions
        let currentScreen = 1;

        function showScreen(screenNum) {
            document.querySelectorAll('.screen').forEach(s => {
                s.classList.remove('active');
                s.classList.add('exit');
            });
            
            setTimeout(() => {
                document.getElementById(`screen${screenNum}`).classList.remove('exit');
                document.getElementById(`screen${screenNum}`).classList.add('active');
                currentScreen = screenNum;
            }, 300);
        }

        // Auto transition from screen 1 to 2
        setTimeout(() => showScreen(2), 5000);

        // Question handlers
        function handleYes() {
            setTimeout(() => showScreen(3), 500);
            initGame();
        }

        function handleNo() {
            const msg = document.getElementById('playfulMsg');
            msg.style.display = 'block';
            setTimeout(() => {
                showScreen(3);
                initGame();
            }, 2000);
        }

        // Tic Tac Toe Game
        const board = [
            ['X', '‚ù§Ô∏è', 'X'],
            ['‚ù§Ô∏è', '', 'X'],
            ['X', '‚ù§Ô∏è', 'X']
        ];

        function initGame() {
            const boardEl = document.getElementById('board');
            boardEl.innerHTML = '';
            
            board.forEach((row, i) => {
                row.forEach((cell, j) => {
                    const cellEl = document.createElement('div');
                    cellEl.className = 'cell';
                    
                    if (cell !== '') {
                        cellEl.classList.add('disabled');
                        const content = document.createElement('div');
                        content.className = 'cell-content';
                        content.innerHTML = cell === 'X' 
                            ? '<span class="cross-icon">‚úï</span>' 
                            : '<span class="heart-icon">‚ù§Ô∏è</span>';
                        cellEl.appendChild(content);
                        
                        if (cell === '‚ù§Ô∏è') {
                            cellEl.onclick = () => {
                                cellEl.classList.add('fly-animation');
                                setTimeout(() => cellEl.classList.remove('fly-animation'), 600);
                            };
                        }
                    } else {
                        cellEl.onclick = () => handleCellClick(i, j, cellEl);
                    }
                    
                    boardEl.appendChild(cellEl);
                });
            });
        }

        function handleCellClick(i, j, cellEl) {
            if (i === 1 && j === 1) {
                cellEl.innerHTML = '<span class="heart-icon">‚ù§Ô∏è</span>';
                cellEl.classList.add('disabled');
                cellEl.onclick = null;
                
                setTimeout(() => {
                    celebrateWin();
                }, 500);
            }
        }

        function celebrateWin() {
            const boardEl = document.getElementById('board');
            const cells = boardEl.querySelectorAll('.cell');
            
            // Create expanding pulse hearts
            const positions = [
                { top: '75px', left: '75px' },
                { top: '225px', left: '225px' },
                { top: '375px', left: '375px' }
            ];
            
            positions.forEach((pos, index) => {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'winning-heart';
                    heart.textContent = '‚ù§Ô∏è';
                    heart.style.top = pos.top;
                    heart.style.left = pos.left;
                    boardEl.appendChild(heart);
                    
                    setTimeout(() => heart.remove(), 1000);
                }, index * 200);
            });
            
            setTimeout(() => {
                cells.forEach(cell => {
                    cell.style.opacity = '0';
                    cell.style.transform = 'scale(0)';
                });
            }, 600);
            
            setTimeout(() => {
                document.getElementById('winMessage').style.display = 'block';
            }, 1200);
            
            setTimeout(() => {
                showScreen(4);
            }, 3500);
        }

        // Envelope
        let envelopeOpen = false;

        function toggleEnvelope() {
            const envelope = document.getElementById('envelope');
            const hint = document.getElementById('envelopeHint');
            
            if (!envelopeOpen) {
                envelope.classList.add('open');
                hint.style.display = 'none';
                envelopeOpen = true;
            }
        }
    </script>
</body>
</html>